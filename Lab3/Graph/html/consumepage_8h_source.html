<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RFID_Lab3: /home/hover/Desktop/Labs/HUST_RFID_Labs/Lab2/13.56M/14443/One_Card_System/pages/consume/consumepage.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RFID_Lab3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7816ed0a726626cbaf4b061165d848c1.html">Lab2</a></li><li class="navelem"><a class="el" href="dir_ee8fa5ecc7a7766d963f056c2eb896f3.html">13.56M</a></li><li class="navelem"><a class="el" href="dir_0a85eff946bc68018df3ba2636513bf4.html">14443</a></li><li class="navelem"><a class="el" href="dir_842eb83b01b0fc601269374daf528b77.html">One_Card_System</a></li><li class="navelem"><a class="el" href="dir_56f978a04aaa505ddfc63f719b062b2e.html">pages</a></li><li class="navelem"><a class="el" href="dir_5a604b4a022f79ceb61ec02bafb75882.html">consume</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">consumepage.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="consumepage_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef CONSUMEPAGE_H</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define CONSUMEPAGE_H</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;QWidget&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;QTimer&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;QMessageBox&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="tools_8h.html">tools/tools.h</a>&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="serialportthread_8h.html">serialThread/serialportthread.h</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="m1356dll_8h.html">inc/m1356dll.h</a>&quot;</span></div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="union_read_value.html">   10</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">union</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;{</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="union_read_value.html#aaf8c28a424fb6f23198e7a18b87785c9">   12</a></span>&#160;  <span class="keywordtype">float</span> <a class="code" href="union_read_value.html#aaf8c28a424fb6f23198e7a18b87785c9">value_f</a>;</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="union_read_value.html#a3158d6274c518aa6a0b8e0c2365d27dc">   13</a></span>&#160;  <span class="keywordtype">char</span>  value_b[4];</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;} <a class="code" href="union_read_value.html">ReadValue</a>;<span class="comment">//float和字节数组之间的转化</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno"><a class="line" href="struct_send_data__t.html">   16</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span>{</div><div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#a14f7c5d361050c31f7e72589fcc0b70b">   17</a></span>&#160;    QString <a class="code" href="struct_send_data__t.html#a14f7c5d361050c31f7e72589fcc0b70b">time</a>;</div><div class="line"><a name="l00018"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#a9ec37fd5ff51697edb06f08e24903893">   18</a></span>&#160;    QString <a class="code" href="struct_send_data__t.html#a9ec37fd5ff51697edb06f08e24903893">addr</a>;</div><div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#a4032f66deeb82babe30b4f5e31a6dc68">   19</a></span>&#160;    QString <a class="code" href="struct_send_data__t.html#a4032f66deeb82babe30b4f5e31a6dc68">readerId</a>;</div><div class="line"><a name="l00020"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#a12f4d4700f5232b86c41e73082ded5ed">   20</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="struct_send_data__t.html#a12f4d4700f5232b86c41e73082ded5ed">value</a>;</div><div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#a40f49a35596ee7263d4ef356238e7e1b">   21</a></span>&#160;    QString <a class="code" href="struct_send_data__t.html#a40f49a35596ee7263d4ef356238e7e1b">cardId</a>;</div><div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="struct_send_data__t.html#ab02a56bb0758fce6e29554392ab43564">   22</a></span>&#160;    QString <a class="code" href="struct_send_data__t.html#ab02a56bb0758fce6e29554392ab43564">remark</a>;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;} <a class="code" href="struct_send_data__t.html">SendData_t</a>;<span class="comment">//消费信息</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_ui.html">Ui</a> {</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">class </span><a class="code" href="class_consume_page.html">ConsumePage</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;}</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">/**************************************</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"> *作者: jianghj@up-tech.com</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment"> *日期: 2016-09-20</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *描述: 模拟消费</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">***************************************/</span></div><div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="class_consume_page.html">   33</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_consume_page.html">ConsumePage</a> : <span class="keyword">public</span> QWidget</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    Q_OBJECT</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="class_consume_page.html#a2215feb8cdf2b12d83d4b6ff9f567661">ConsumePage</a>(QWidget *parent = 0,<a class="code" href="class_serial_port_thread.html">SerialPortThread</a> *<a class="code" href="class_consume_page.html#ae29d14c1d1d1ce6e6281a2dec3ade6a0">serialPortThread</a> = 0);</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="class_consume_page.html#a9a7b49db8398a51d064d8a96f6f78e61">~ConsumePage</a>();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a26ad9f5afc48a91b04f6ba99f524dc44">authentication</a>();<span class="comment">//授权</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_consume_page.html#a1c1ce4b09089b923deb0fd178418cb99">eventFilter</a>(QObject *obj, QEvent *event);<span class="comment">//事件过滤器</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">public</span> slots:</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#ad00cdadd4302bfb963b4e1c2487b7653">updateTime</a>();<span class="comment">//更新时间</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a10832a40b02705ec9c951673e1a7e6da">on_cardIdReceived</a>(QString tagId);<span class="comment">//卡号接收槽</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#aad2165e62407257cd5a061a75e3e8cd2">onDecodeFrame</a>(QByteArray bytes);<span class="comment">//串口接收到信息后解码输出槽</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;signals:</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;       <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#ac51abb2cb079fc3884f4999d6467ad1b">calcOps</a>(<span class="keywordtype">float</span>);<span class="comment">//消费计算</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">private</span> slots:</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a5d3f29ff49ea73facf73e34267adf0ed">on_btn_OK_clicked</a>();<span class="comment">//结账按钮点击槽1</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a00810bb404e95cf82b060d366a127b23">readCardId</a>(<span class="keywordtype">bool</span> clicked);<span class="comment">//识别按钮点击事件</span></div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a2456c0a7ad27aa1d991c4a2d9a3334e1">on_comboBox_supermarket_currentIndexChanged</a>(<span class="keywordtype">int</span> index);<span class="comment">//超市下拉框索引发生改变时的接收槽</span></div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a9ace94ec565505f97e29f0f732ef13bf">on_btn_OK2_clicked</a>();<span class="comment">//结账按钮点击槽2</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#aef47c443ac40ea430537571bae1328ff">on_btn_OK1_clicked</a>();<span class="comment">//结账按钮点击槽3</span></div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a3d244573d28510df3c7b3ca0d6eb3843">on_btn_OK3_clicked</a>();<span class="comment">//结账按钮点击槽4</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#aee88a9a496e88620383622b4ab20e4c9">on_readValue</a>(<span class="keywordtype">float</span> value);<span class="comment">//读取卡内余额信息处理槽</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a56362bbe10626bb02c7cba7e11545274">on_comboBox_foodName_currentIndexChanged</a>(<span class="keywordtype">int</span> index);<span class="comment">//食物名称索引发生改变时的接收槽</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#af5d7e2bc17a792db28f9e1dd205574e2">on_comboBox_goodsName_currentIndexChanged</a>(<span class="keywordtype">int</span> index);<span class="comment">//商品....</span></div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a6db19d3147a2143286022e5bca7dc3fa">on_comboBox_castType_currentIndexChanged</a>(<span class="keywordtype">int</span> index);<span class="comment">//消费类别....</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">private</span>: <span class="comment">//functions</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#add3af5a3661b2a7172bddb5fa81452a0">handleConnect</a>();<span class="comment">//处理连接</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a53f5ce5e4192a56330fac399aa43c199">initViews</a>();<span class="comment">//初始化View</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_consume_page.html#a4b2cabc78b852bea679c71e0a8a1e459">fillSendData</a>(QString time,QString addr,QString readerId,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                      QString value,QString cardId,QString remark);<span class="comment">//填充消费信息</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_consume_page.html#a35a81e758924ebde005e01f78eda143f">checkDataValid</a>();<span class="comment">//监测数据合法性</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">private</span>:<span class="comment">//member</span></div><div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="class_consume_page.html#a985f62c214ee04ab5a32826a2c01670a">   87</a></span>&#160;    Ui::ConsumePage *<a class="code" href="class_consume_page.html#a985f62c214ee04ab5a32826a2c01670a">ui</a>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_consume_page.html#a2d862691698552503b8874e7b6ab6d78">   89</a></span>&#160;    QTimer *<a class="code" href="class_consume_page.html#a2d862691698552503b8874e7b6ab6d78">timer</a>;<span class="comment">//定时器,用于更新时间</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="class_consume_page.html#ae32203479a3c7899b8c84f9c8390522f">   91</a></span>&#160;    QPushButton *<a class="code" href="class_consume_page.html#ae32203479a3c7899b8c84f9c8390522f">currentEnventoryButton</a>;<span class="comment">//记录当前点击的是哪个识别按钮</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno"><a class="line" href="class_consume_page.html#a92f39f3e65ef11f9a99dfe9821bc2042">   93</a></span>&#160;    <a class="code" href="class_m1356_dll.html">M1356Dll</a> *<a class="code" href="class_consume_page.html#a92f39f3e65ef11f9a99dfe9821bc2042">m1356dll</a>;<span class="comment">//13.56MHz模块库的类</span></div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="class_consume_page.html#ae29d14c1d1d1ce6e6281a2dec3ade6a0">   95</a></span>&#160;    <a class="code" href="class_serial_port_thread.html">SerialPortThread</a> *<a class="code" href="class_consume_page.html#ae29d14c1d1d1ce6e6281a2dec3ade6a0">serialPortThread</a>;<span class="comment">//串口线程</span></div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="comment">//用于存放超市名称,食物名称,商品名称,消费类别名称</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="class_consume_page.html#ad679cfb8a1b8af73fc6f196ea387f7f4">   98</a></span>&#160;    QStringList <a class="code" href="class_consume_page.html#ad679cfb8a1b8af73fc6f196ea387f7f4">supermarketName</a>,<a class="code" href="class_consume_page.html#aa6871eb3b3d2065e79daf26a1685fdd2">foodName</a>,<a class="code" href="class_consume_page.html#aede14bdd9eb4b1191a557059abf83062">goodsName</a>,<a class="code" href="class_consume_page.html#a1dd56d09c71504247793ba91be860270">castName</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="comment">//用于存放对应的地址信息</span></div><div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="class_consume_page.html#afbdd27b55a3286494a4b5b460d7f76f6">  100</a></span>&#160;    QStringList <a class="code" href="class_consume_page.html#a9df3baec8176e9c23c9c80cdabaf7274">supermarketAddr</a>,<a class="code" href="class_consume_page.html#a7cfd5d301069ce79ad431d89201b1703">cafeteriaAddr</a>,<a class="code" href="class_consume_page.html#afbdd27b55a3286494a4b5b460d7f76f6">vendorAddr</a>,<a class="code" href="class_consume_page.html#a5f32182a0c6a200572cbe6a3205cfa82">castAddr</a>;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="class_consume_page.html#aba7dff446b4145fe69ee3cc75c459d9d">  102</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="class_consume_page.html#aba7dff446b4145fe69ee3cc75c459d9d">currentOps</a>;<span class="comment">//记录当前的操作</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="class_consume_page.html#a708a20eabb2c5c297efd86b6ab6b9e5d">  104</a></span>&#160;    <a class="code" href="struct_send_data__t.html">SendData_t</a> <a class="code" href="class_consume_page.html#a708a20eabb2c5c297efd86b6ab6b9e5d">sendData</a>;<span class="comment">//缓存当前的消费信息</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="class_consume_page.html#a873e137bb91e921fb86363de0a298d2b">  106</a></span>&#160;    QMessageBox *<a class="code" href="class_consume_page.html#a873e137bb91e921fb86363de0a298d2b">messageBox</a>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="class_consume_page.html#ae863ea00b582389d2ab9e8472b84a18a">  108</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="class_consume_page.html#ae863ea00b582389d2ab9e8472b84a18a">last_value</a>;<span class="comment">//最终值</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;};</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#endif // CONSUMEPAGE_H</span></div><div class="ttc" id="class_consume_page_html_a6db19d3147a2143286022e5bca7dc3fa"><div class="ttname"><a href="class_consume_page.html#a6db19d3147a2143286022e5bca7dc3fa">ConsumePage::on_comboBox_castType_currentIndexChanged</a></div><div class="ttdeci">void on_comboBox_castType_currentIndexChanged(int index)</div><div class="ttdoc">ConsumePage::on_comboBox_castType_currentIndexChanged.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:518</div></div>
<div class="ttc" id="struct_send_data__t_html_a12f4d4700f5232b86c41e73082ded5ed"><div class="ttname"><a href="struct_send_data__t.html#a12f4d4700f5232b86c41e73082ded5ed">SendData_t::value</a></div><div class="ttdeci">float value</div><div class="ttdef"><b>Definition:</b> consumepage.h:20</div></div>
<div class="ttc" id="class_consume_page_html_a9ace94ec565505f97e29f0f732ef13bf"><div class="ttname"><a href="class_consume_page.html#a9ace94ec565505f97e29f0f732ef13bf">ConsumePage::on_btn_OK2_clicked</a></div><div class="ttdeci">void on_btn_OK2_clicked()</div><div class="ttdoc">ConsumePage::on_btn_OK2_clicked 超市消费结账按钮点击事件</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:368</div></div>
<div class="ttc" id="class_consume_page_html_a26ad9f5afc48a91b04f6ba99f524dc44"><div class="ttname"><a href="class_consume_page.html#a26ad9f5afc48a91b04f6ba99f524dc44">ConsumePage::authentication</a></div><div class="ttdeci">void authentication()</div><div class="ttdoc">ConsumePage::authentication 授权操作</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:466</div></div>
<div class="ttc" id="class_consume_page_html_a4b2cabc78b852bea679c71e0a8a1e459"><div class="ttname"><a href="class_consume_page.html#a4b2cabc78b852bea679c71e0a8a1e459">ConsumePage::fillSendData</a></div><div class="ttdeci">void fillSendData(QString time, QString addr, QString readerId, QString value, QString cardId, QString remark)</div><div class="ttdoc">ConsumePage::fillSendData.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:434</div></div>
<div class="ttc" id="class_consume_page_html_ad00cdadd4302bfb963b4e1c2487b7653"><div class="ttname"><a href="class_consume_page.html#ad00cdadd4302bfb963b4e1c2487b7653">ConsumePage::updateTime</a></div><div class="ttdeci">void updateTime()</div><div class="ttdoc">ConsumePage::updateTime 更新时间槽函数</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:149</div></div>
<div class="ttc" id="struct_send_data__t_html_a40f49a35596ee7263d4ef356238e7e1b"><div class="ttname"><a href="struct_send_data__t.html#a40f49a35596ee7263d4ef356238e7e1b">SendData_t::cardId</a></div><div class="ttdeci">QString cardId</div><div class="ttdef"><b>Definition:</b> consumepage.h:21</div></div>
<div class="ttc" id="class_consume_page_html_ae29d14c1d1d1ce6e6281a2dec3ade6a0"><div class="ttname"><a href="class_consume_page.html#ae29d14c1d1d1ce6e6281a2dec3ade6a0">ConsumePage::serialPortThread</a></div><div class="ttdeci">SerialPortThread * serialPortThread</div><div class="ttdef"><b>Definition:</b> consumepage.h:95</div></div>
<div class="ttc" id="struct_send_data__t_html_a14f7c5d361050c31f7e72589fcc0b70b"><div class="ttname"><a href="struct_send_data__t.html#a14f7c5d361050c31f7e72589fcc0b70b">SendData_t::time</a></div><div class="ttdeci">QString time</div><div class="ttdef"><b>Definition:</b> consumepage.h:17</div></div>
<div class="ttc" id="class_consume_page_html_a5f32182a0c6a200572cbe6a3205cfa82"><div class="ttname"><a href="class_consume_page.html#a5f32182a0c6a200572cbe6a3205cfa82">ConsumePage::castAddr</a></div><div class="ttdeci">QStringList castAddr</div><div class="ttdef"><b>Definition:</b> consumepage.h:100</div></div>
<div class="ttc" id="m1356dll_8h_html"><div class="ttname"><a href="m1356dll_8h.html">m1356dll.h</a></div></div>
<div class="ttc" id="namespace_ui_html"><div class="ttname"><a href="namespace_ui.html">Ui</a></div><div class="ttdef"><b>Definition:</b> mainwindow.h:13</div></div>
<div class="ttc" id="class_consume_page_html_a00810bb404e95cf82b060d366a127b23"><div class="ttname"><a href="class_consume_page.html#a00810bb404e95cf82b060d366a127b23">ConsumePage::readCardId</a></div><div class="ttdeci">void readCardId(bool clicked)</div><div class="ttdoc">ConsumePage::readCardId.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:162</div></div>
<div class="ttc" id="class_consume_page_html_a2456c0a7ad27aa1d991c4a2d9a3334e1"><div class="ttname"><a href="class_consume_page.html#a2456c0a7ad27aa1d991c4a2d9a3334e1">ConsumePage::on_comboBox_supermarket_currentIndexChanged</a></div><div class="ttdeci">void on_comboBox_supermarket_currentIndexChanged(int index)</div><div class="ttdoc">ConsumePage::on_comboBox_supermarket_currentIndexChanged.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:496</div></div>
<div class="ttc" id="class_consume_page_html_a9a7b49db8398a51d064d8a96f6f78e61"><div class="ttname"><a href="class_consume_page.html#a9a7b49db8398a51d064d8a96f6f78e61">ConsumePage::~ConsumePage</a></div><div class="ttdeci">~ConsumePage()</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:32</div></div>
<div class="ttc" id="class_consume_page_html_a1dd56d09c71504247793ba91be860270"><div class="ttname"><a href="class_consume_page.html#a1dd56d09c71504247793ba91be860270">ConsumePage::castName</a></div><div class="ttdeci">QStringList castName</div><div class="ttdef"><b>Definition:</b> consumepage.h:98</div></div>
<div class="ttc" id="class_consume_page_html_a985f62c214ee04ab5a32826a2c01670a"><div class="ttname"><a href="class_consume_page.html#a985f62c214ee04ab5a32826a2c01670a">ConsumePage::ui</a></div><div class="ttdeci">Ui::ConsumePage * ui</div><div class="ttdef"><b>Definition:</b> consumepage.h:87</div></div>
<div class="ttc" id="class_consume_page_html_aede14bdd9eb4b1191a557059abf83062"><div class="ttname"><a href="class_consume_page.html#aede14bdd9eb4b1191a557059abf83062">ConsumePage::goodsName</a></div><div class="ttdeci">QStringList goodsName</div><div class="ttdef"><b>Definition:</b> consumepage.h:98</div></div>
<div class="ttc" id="class_consume_page_html"><div class="ttname"><a href="class_consume_page.html">ConsumePage</a></div><div class="ttdef"><b>Definition:</b> consumepage.h:33</div></div>
<div class="ttc" id="struct_send_data__t_html_a4032f66deeb82babe30b4f5e31a6dc68"><div class="ttname"><a href="struct_send_data__t.html#a4032f66deeb82babe30b4f5e31a6dc68">SendData_t::readerId</a></div><div class="ttdeci">QString readerId</div><div class="ttdef"><b>Definition:</b> consumepage.h:19</div></div>
<div class="ttc" id="class_serial_port_thread_html"><div class="ttname"><a href="class_serial_port_thread.html">SerialPortThread</a></div><div class="ttdef"><b>Definition:</b> serialportthread.h:22</div></div>
<div class="ttc" id="union_read_value_html"><div class="ttname"><a href="union_read_value.html">ReadValue</a></div><div class="ttdef"><b>Definition:</b> consumepage.h:10</div></div>
<div class="ttc" id="class_consume_page_html_add3af5a3661b2a7172bddb5fa81452a0"><div class="ttname"><a href="class_consume_page.html#add3af5a3661b2a7172bddb5fa81452a0">ConsumePage::handleConnect</a></div><div class="ttdeci">void handleConnect()</div><div class="ttdoc">ConsumePage::handleConnect 处理信号与插槽的连接关系</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:98</div></div>
<div class="ttc" id="class_m1356_dll_html"><div class="ttname"><a href="class_m1356_dll.html">M1356Dll</a></div><div class="ttdef"><b>Definition:</b> m1356dll.h:236</div></div>
<div class="ttc" id="class_consume_page_html_aad2165e62407257cd5a061a75e3e8cd2"><div class="ttname"><a href="class_consume_page.html#aad2165e62407257cd5a061a75e3e8cd2">ConsumePage::onDecodeFrame</a></div><div class="ttdeci">void onDecodeFrame(QByteArray bytes)</div><div class="ttdoc">ConsumePage::onDecodeFrame.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:250</div></div>
<div class="ttc" id="class_consume_page_html_ac51abb2cb079fc3884f4999d6467ad1b"><div class="ttname"><a href="class_consume_page.html#ac51abb2cb079fc3884f4999d6467ad1b">ConsumePage::calcOps</a></div><div class="ttdeci">void calcOps(float)</div></div>
<div class="ttc" id="class_consume_page_html_ae863ea00b582389d2ab9e8472b84a18a"><div class="ttname"><a href="class_consume_page.html#ae863ea00b582389d2ab9e8472b84a18a">ConsumePage::last_value</a></div><div class="ttdeci">float last_value</div><div class="ttdef"><b>Definition:</b> consumepage.h:108</div></div>
<div class="ttc" id="class_consume_page_html_a1c1ce4b09089b923deb0fd178418cb99"><div class="ttname"><a href="class_consume_page.html#a1c1ce4b09089b923deb0fd178418cb99">ConsumePage::eventFilter</a></div><div class="ttdeci">bool eventFilter(QObject *obj, QEvent *event)</div><div class="ttdoc">ConsumePage::eventFilter.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:116</div></div>
<div class="ttc" id="class_consume_page_html_af5d7e2bc17a792db28f9e1dd205574e2"><div class="ttname"><a href="class_consume_page.html#af5d7e2bc17a792db28f9e1dd205574e2">ConsumePage::on_comboBox_goodsName_currentIndexChanged</a></div><div class="ttdeci">void on_comboBox_goodsName_currentIndexChanged(int index)</div><div class="ttdoc">ConsumePage::on_comboBox_goodsName_currentIndexChanged.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:507</div></div>
<div class="ttc" id="class_consume_page_html_afbdd27b55a3286494a4b5b460d7f76f6"><div class="ttname"><a href="class_consume_page.html#afbdd27b55a3286494a4b5b460d7f76f6">ConsumePage::vendorAddr</a></div><div class="ttdeci">QStringList vendorAddr</div><div class="ttdef"><b>Definition:</b> consumepage.h:100</div></div>
<div class="ttc" id="class_consume_page_html_aee88a9a496e88620383622b4ab20e4c9"><div class="ttname"><a href="class_consume_page.html#aee88a9a496e88620383622b4ab20e4c9">ConsumePage::on_readValue</a></div><div class="ttdeci">void on_readValue(float value)</div><div class="ttdoc">ConsumePage::on_readValue.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:331</div></div>
<div class="ttc" id="class_consume_page_html_aba7dff446b4145fe69ee3cc75c459d9d"><div class="ttname"><a href="class_consume_page.html#aba7dff446b4145fe69ee3cc75c459d9d">ConsumePage::currentOps</a></div><div class="ttdeci">int currentOps</div><div class="ttdef"><b>Definition:</b> consumepage.h:102</div></div>
<div class="ttc" id="union_read_value_html_aaf8c28a424fb6f23198e7a18b87785c9"><div class="ttname"><a href="union_read_value.html#aaf8c28a424fb6f23198e7a18b87785c9">ReadValue::value_f</a></div><div class="ttdeci">float value_f</div><div class="ttdef"><b>Definition:</b> consumepage.h:12</div></div>
<div class="ttc" id="class_consume_page_html_a708a20eabb2c5c297efd86b6ab6b9e5d"><div class="ttname"><a href="class_consume_page.html#a708a20eabb2c5c297efd86b6ab6b9e5d">ConsumePage::sendData</a></div><div class="ttdeci">SendData_t sendData</div><div class="ttdef"><b>Definition:</b> consumepage.h:104</div></div>
<div class="ttc" id="class_consume_page_html_a5d3f29ff49ea73facf73e34267adf0ed"><div class="ttname"><a href="class_consume_page.html#a5d3f29ff49ea73facf73e34267adf0ed">ConsumePage::on_btn_OK_clicked</a></div><div class="ttdeci">void on_btn_OK_clicked()</div><div class="ttdoc">ConsumePage::on_btn_OK_clicked 食堂结账按钮点击事件</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:348</div></div>
<div class="ttc" id="struct_send_data__t_html_ab02a56bb0758fce6e29554392ab43564"><div class="ttname"><a href="struct_send_data__t.html#ab02a56bb0758fce6e29554392ab43564">SendData_t::remark</a></div><div class="ttdeci">QString remark</div><div class="ttdef"><b>Definition:</b> consumepage.h:22</div></div>
<div class="ttc" id="class_consume_page_html_a56362bbe10626bb02c7cba7e11545274"><div class="ttname"><a href="class_consume_page.html#a56362bbe10626bb02c7cba7e11545274">ConsumePage::on_comboBox_foodName_currentIndexChanged</a></div><div class="ttdeci">void on_comboBox_foodName_currentIndexChanged(int index)</div><div class="ttdoc">ConsumePage::on_comboBox_foodName_currentIndexChanged.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:485</div></div>
<div class="ttc" id="class_consume_page_html_a53f5ce5e4192a56330fac399aa43c199"><div class="ttname"><a href="class_consume_page.html#a53f5ce5e4192a56330fac399aa43c199">ConsumePage::initViews</a></div><div class="ttdeci">void initViews()</div><div class="ttdoc">ConsumePage::initViews 初始化界面</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:41</div></div>
<div class="ttc" id="class_consume_page_html_a7cfd5d301069ce79ad431d89201b1703"><div class="ttname"><a href="class_consume_page.html#a7cfd5d301069ce79ad431d89201b1703">ConsumePage::cafeteriaAddr</a></div><div class="ttdeci">QStringList cafeteriaAddr</div><div class="ttdef"><b>Definition:</b> consumepage.h:100</div></div>
<div class="ttc" id="class_consume_page_html_a10832a40b02705ec9c951673e1a7e6da"><div class="ttname"><a href="class_consume_page.html#a10832a40b02705ec9c951673e1a7e6da">ConsumePage::on_cardIdReceived</a></div><div class="ttdeci">void on_cardIdReceived(QString tagId)</div><div class="ttdoc">ConsumePage::on_cardIdReceived.</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:188</div></div>
<div class="ttc" id="class_consume_page_html_a2d862691698552503b8874e7b6ab6d78"><div class="ttname"><a href="class_consume_page.html#a2d862691698552503b8874e7b6ab6d78">ConsumePage::timer</a></div><div class="ttdeci">QTimer * timer</div><div class="ttdef"><b>Definition:</b> consumepage.h:89</div></div>
<div class="ttc" id="class_consume_page_html_a3d244573d28510df3c7b3ca0d6eb3843"><div class="ttname"><a href="class_consume_page.html#a3d244573d28510df3c7b3ca0d6eb3843">ConsumePage::on_btn_OK3_clicked</a></div><div class="ttdeci">void on_btn_OK3_clicked()</div><div class="ttdoc">ConsumePage::on_btn_OK3_clicked 其他结账按钮点击事件</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:408</div></div>
<div class="ttc" id="class_consume_page_html_ad679cfb8a1b8af73fc6f196ea387f7f4"><div class="ttname"><a href="class_consume_page.html#ad679cfb8a1b8af73fc6f196ea387f7f4">ConsumePage::supermarketName</a></div><div class="ttdeci">QStringList supermarketName</div><div class="ttdef"><b>Definition:</b> consumepage.h:98</div></div>
<div class="ttc" id="class_consume_page_html_aef47c443ac40ea430537571bae1328ff"><div class="ttname"><a href="class_consume_page.html#aef47c443ac40ea430537571bae1328ff">ConsumePage::on_btn_OK1_clicked</a></div><div class="ttdeci">void on_btn_OK1_clicked()</div><div class="ttdoc">ConsumePage::on_btn_OK1_clicked 教学楼结账按钮点击事件</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:388</div></div>
<div class="ttc" id="class_consume_page_html_a92f39f3e65ef11f9a99dfe9821bc2042"><div class="ttname"><a href="class_consume_page.html#a92f39f3e65ef11f9a99dfe9821bc2042">ConsumePage::m1356dll</a></div><div class="ttdeci">M1356Dll * m1356dll</div><div class="ttdef"><b>Definition:</b> consumepage.h:93</div></div>
<div class="ttc" id="class_consume_page_html_ae32203479a3c7899b8c84f9c8390522f"><div class="ttname"><a href="class_consume_page.html#ae32203479a3c7899b8c84f9c8390522f">ConsumePage::currentEnventoryButton</a></div><div class="ttdeci">QPushButton * currentEnventoryButton</div><div class="ttdef"><b>Definition:</b> consumepage.h:91</div></div>
<div class="ttc" id="class_consume_page_html_a873e137bb91e921fb86363de0a298d2b"><div class="ttname"><a href="class_consume_page.html#a873e137bb91e921fb86363de0a298d2b">ConsumePage::messageBox</a></div><div class="ttdeci">QMessageBox * messageBox</div><div class="ttdef"><b>Definition:</b> consumepage.h:106</div></div>
<div class="ttc" id="class_consume_page_html_a35a81e758924ebde005e01f78eda143f"><div class="ttname"><a href="class_consume_page.html#a35a81e758924ebde005e01f78eda143f">ConsumePage::checkDataValid</a></div><div class="ttdeci">bool checkDataValid()</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:446</div></div>
<div class="ttc" id="tools_8h_html"><div class="ttname"><a href="tools_8h.html">tools.h</a></div></div>
<div class="ttc" id="class_consume_page_html_a9df3baec8176e9c23c9c80cdabaf7274"><div class="ttname"><a href="class_consume_page.html#a9df3baec8176e9c23c9c80cdabaf7274">ConsumePage::supermarketAddr</a></div><div class="ttdeci">QStringList supermarketAddr</div><div class="ttdef"><b>Definition:</b> consumepage.h:100</div></div>
<div class="ttc" id="struct_send_data__t_html"><div class="ttname"><a href="struct_send_data__t.html">SendData_t</a></div><div class="ttdef"><b>Definition:</b> consumepage.h:16</div></div>
<div class="ttc" id="class_consume_page_html_a2215feb8cdf2b12d83d4b6ff9f567661"><div class="ttname"><a href="class_consume_page.html#a2215feb8cdf2b12d83d4b6ff9f567661">ConsumePage::ConsumePage</a></div><div class="ttdeci">ConsumePage(QWidget *parent=0, SerialPortThread *serialPortThread=0)</div><div class="ttdef"><b>Definition:</b> consumepage.cpp:13</div></div>
<div class="ttc" id="serialportthread_8h_html"><div class="ttname"><a href="serialportthread_8h.html">serialportthread.h</a></div></div>
<div class="ttc" id="class_consume_page_html_aa6871eb3b3d2065e79daf26a1685fdd2"><div class="ttname"><a href="class_consume_page.html#aa6871eb3b3d2065e79daf26a1685fdd2">ConsumePage::foodName</a></div><div class="ttdeci">QStringList foodName</div><div class="ttdef"><b>Definition:</b> consumepage.h:98</div></div>
<div class="ttc" id="struct_send_data__t_html_a9ec37fd5ff51697edb06f08e24903893"><div class="ttname"><a href="struct_send_data__t.html#a9ec37fd5ff51697edb06f08e24903893">SendData_t::addr</a></div><div class="ttdeci">QString addr</div><div class="ttdef"><b>Definition:</b> consumepage.h:18</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
